//----------------------------------------
// GR-CITRUS (Akizuki RX631) CPU board
// CPU chip:
//----------------------------------------
//
// Kazuyuki Hirooka
//
// 20161101
//
#include "iodefine.h"
#include "hwsetup_rx631.h"
#include "port.h"

//======================================================================
// Port
//======================================================================
void PORT_init(void)
{
    //--------------------------------------------------------------------------------
    // LED1
    //--------------------------------------------------------------------------------
    PORTA.PDR.BIT.B0    = 1;    // 1:OUTPUT     LED1
    PORTA.PMR.BIT.B0    = 0;    // I/O port
    PORT_LED1           = 0;    // LED1

    //--------------------------------------------------------------------------------
    // Xtal-oscillator: Set P36 and P37 as general input.
    //--------------------------------------------------------------------------------
    PORT3.PDR.BIT.B6    = 0;    // direction: input
    PORT3.PDR.BIT.B7    = 0;    // direction: input
    PORT3.PMR.BIT.B6    = 0;    // I/O port
    PORT3.PMR.BIT.B7    = 0;    // I/O port

    //--------------------------------------------------------------------------------
    // SCI0(TXD0, RXD0): Set P20 and P21 as general input.
    //--------------------------------------------------------------------------------
    PORT2.PDR.BIT.B0    = 0;    // direction: input
    PORT2.PDR.BIT.B1    = 0;    // direction: input
    PORT2.PMR.BIT.B0    = 0;    // I/O port
    PORT2.PMR.BIT.B1    = 0;    // I/O port

    //--------------------------------------------------------------------------------
    // Test pin
    //--------------------------------------------------------------------------------
    // GR-CITRUS, P12(Port1-2), CN1_pin3_BASE1, RX631_100LQFP_pin70,
    PORT1.PDR.BIT.B2    = 1;    // 1:OUTPUT
    PORT1.PMR.BIT.B2    = 0;    // I/O port
    PORT_TP1_P12_CN13   = 0;    // LOW

    //--------------------------------------------------------------------------------
    // DAC1: Set P05 as general input.
    //--------------------------------------------------------------------------------
    PORT0.PDR.BIT.B5    = 0;    // direction: input
    PORT0.PMR.BIT.B5    = 0;    // I/O port

    //--------------------------------------------------------------------------------
    // Other ports
    //--------------------------------------------------------------------------------
    // TBD
}

// TBD  BELOW IS FROM RX220
// ?? //------------------------------------------------------------
// ?? // ??? Set port direction as input not to affect ADC performance
// ?? //------------------------------------------------------------
// ?? //  port ???
// ?? // void PORT_set_input_for_ADC(void)
// ?? // {
// ?? //     // PORT???.PDR.BYTE  = 0x00;
// ?? // }

